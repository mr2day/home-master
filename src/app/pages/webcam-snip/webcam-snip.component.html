<div class="webcam-container">
  <div class="webcam-wrapper">
    <video
      #videoElement
      class="webcam-video"
      autoplay
      playsinline
    ></video>

    @if (errorMessage) {
      <div class="error-message">
        {{ errorMessage }}
      </div>
    }
  </div>
  <div class="button-group">
    <div class="focus-control">
      <label for="focus-input">Focus</label>
      <div class="focus-input-group">
        <h-button
          [label]="'+'"
          [size]="'xs'"
          [ratio]="'square'"
          (click)="adjustFocusBy(1)"
        ></h-button>
        <h-input
          id="focus-input"
          type="text"
          [value]="focusValue()"
          (change)="onFocusInputChange($event)"
        ></h-input>
        <h-button
          [label]="'-'"
          [size]="'xs'"
          [ratio]="'square'"
          (click)="adjustFocusBy(-1)"
        ></h-button>
      </div>
    </div>
    <div class="record-info">
      @if (isRecording()) {
        <span class="recording-indicator">‚óè Recording</span>
        <span class="recording-time">{{ recordingTime() }}</span>
      }
    </div>
    <div class="buttons">
      <h-button
        [label]="isRecording() ? 'Stop' : 'Record'"
        [size]="'sm'"
        [ratio]="'square'"
        (click)="toggleRecording()"
      ></h-button>
      <h-button
        [label]="'Snip'"
        [size]="'md'"
        [ratio]="'square'"
        (asyncAction)="snip($event)"
      ></h-button>
    </div>
  </div>
</div>
